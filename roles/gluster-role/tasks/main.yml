---
- name: Create xfs filesystem
  become: true
  filesystem:
    fstype: xfs
    dev: "{{item}}" 
  with_items:
    - "/dev/sdb"
- name: Create directory to mount filesystem on
  become: true
  file:
    path: "{{item}}" 
    state: directory
  with_items:
    - "/data/openshift"
- name: Mount filesystem
  become: true
  mount:
    path: "/data/openshift"
    src: /dev/sdb
    fstype: xfs
    opts: defaults
    state: present